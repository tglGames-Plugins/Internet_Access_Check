name: Deploy to Main

on:
  workflow_dispatch:
    inputs:
      commit_message:
        description: 'Optional commit message (max 250 chars)'
        required: false
        type: string

jobs:
  call_reusable_deploy:
    permissions:
      contents: write
    uses: ./.github/workflows/reusable-deploy.yml
    with:
      source_branch: 'dev'
      dirs_to_rename: 'Samples, Documentation'
      commit_message: ${{ github.event.inputs.commit_message }}
    secrets: inherit
